
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manalytics - July 1-20, 2025 Analysis</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f7fa;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
        .controls {
            margin-top: 20px;
        }
        .controls button {
            padding: 10px 20px;
            margin: 0 10px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        .controls button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .stat-box {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .stat-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #667eea;
        }
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        #mainChart, #tableChart {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .period-notice {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🎯 Manalytics - July 1-20, 2025 Analysis</h1>
        <p>Standard Format Metagame • MTG Color Gradients • 20 Days Period</p>
        
        <div class="controls">
            <button onclick="downloadCSV()">📊 Download CSV</button>
        </div>
    </div>
    
    <div class="container">
        <div class="period-notice">
            📅 Analysis Period: July 1-20, 2025 Only (Excluding Leagues)
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-value">37</div>
                <div class="stat-label">Total Tournaments</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">797</div>
                <div class="stat-label">Total Decks</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">13</div>
                <div class="stat-label">Archetypes > 1.5%</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" style="font-size: 1.5em;">Dimir Midrange</div>
                <div class="stat-label">Top Archetype</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">20</div>
                <div class="stat-label">Days Analyzed</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">21.5</div>
                <div class="stat-label">Avg Decks/Tournament</div>
            </div>
        </div>
        
        <div id="mainChart"></div>
        <div id="tableChart"></div>
    </div>
    
    <script>
        var mainFig = {"data":[{"customdata":[24.22,22.84,6.4,5.14,5.02,4.27,2.51,2.26,2.13,1.63,1.63,1.51,1.51],"hole":0,"hovertemplate":"\u003cb\u003e%{label}\u003c\u002fb\u003e\u003cbr\u003eDecks: %{value}\u003cbr\u003eMeta Share: %{customdata}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","insidetextorientation":"radial","labels":["Dimir Midrange","Izzet Cauldron","Mono White Caretaker","Golgari Midrange","Boros Convoke","Mono Green Landfall","Izzet Prowess","Naya Yuna","Gruul Aggro","Izzet Oculus","Colorless Convoke","Azorius Control","Jeskai Control"],"marker":{"colors":["#0E68AB","#0E68AB","#FFFBD5","#1C1C1C","#F44336","#4CAF50","#0E68AB","#F44336","#F44336","#0E68AB","#9E9E9E","#FFFBD5","#0E68AB"],"line":{"color":"white","width":2}},"text":["24.22%","22.84%","6.4%","5.14%","5.02%","4.27%","2.51%","2.26%","2.13%","1.63%","1.63%","1.51%","1.51%"],"textinfo":"label+text","textposition":"outside","values":[193,182,51,41,40,34,20,18,17,13,13,12,12],"type":"pie","domain":{"x":[0.0,0.4],"y":[0.625,1.0]}},{"hovertemplate":"\u003cb\u003e%{x}\u003c\u002fb\u003e\u003cbr\u003eDecks: %{y}\u003cbr\u003eMeta Share: %{text}\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"color":["#0E68AB","#0E68AB","#FFFBD5","#1C1C1C","#F44336","#4CAF50","#0E68AB","#F44336","#F44336","#0E68AB","#9E9E9E","#FFFBD5","#0E68AB"],"line":{"color":"rgba(0,0,0,0.2)","width":1}},"showlegend":false,"text":["193 (24.22%)","182 (22.84%)","51 (6.4%)","41 (5.14%)","40 (5.02%)","34 (4.27%)","20 (2.51%)","18 (2.26%)","17 (2.13%)","13 (1.63%)","13 (1.63%)","12 (1.51%)","12 (1.51%)"],"textposition":"outside","x":["Dimir Midrange","Izzet Cauldron","Mono White Caretaker","Golgari Midrange","Boros Convoke","Mono Green Landfall","Izzet Prowess","Naya Yuna","Gruul Aggro","Izzet Oculus","Colorless Convoke","Azorius Control","Jeskai Control"],"y":[193,182,51,41,40,34,20,18,17,13,13,12,12],"type":"bar","xaxis":"x","yaxis":"y"},{"hovertemplate":"\u003cb\u003e%{fullData.name}\u003c\u002fb\u003e\u003cbr\u003eDate: %{x}\u003cbr\u003eMeta Share: %{y:.1f}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","line":{"color":"#0E68AB","width":3},"marker":{"color":"#0E68AB","size":6},"mode":"lines+markers","name":"Dimir Midrange","x":["2025-07-01","2025-07-02","2025-07-03","2025-07-04","2025-07-05","2025-07-06","2025-07-07","2025-07-08","2025-07-10","2025-07-11","2025-07-12","2025-07-13","2025-07-14","2025-07-15","2025-07-17","2025-07-18","2025-07-19","2025-07-20"],"y":[42.31,36.36,48.0,40.0,29.17,13.56,28.0,21.43,25.93,22.62,18.87,11.11,25.0,37.5,17.86,22.03,13.24,39.47],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hovertemplate":"\u003cb\u003e%{fullData.name}\u003c\u002fb\u003e\u003cbr\u003eDate: %{x}\u003cbr\u003eMeta Share: %{y:.1f}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","line":{"color":"#0E68AB","width":3},"marker":{"color":"#0E68AB","size":6},"mode":"lines+markers","name":"Izzet Cauldron","x":["2025-07-01","2025-07-03","2025-07-04","2025-07-05","2025-07-06","2025-07-07","2025-07-08","2025-07-10","2025-07-11","2025-07-12","2025-07-13","2025-07-14","2025-07-15","2025-07-17","2025-07-18","2025-07-19","2025-07-20"],"y":[11.54,4.0,6.0,16.67,9.32,28.0,25.0,25.93,29.76,24.53,17.78,31.25,25.0,35.71,45.76,33.82,28.95],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hovertemplate":"\u003cb\u003e%{fullData.name}\u003c\u002fb\u003e\u003cbr\u003eDate: %{x}\u003cbr\u003eMeta Share: %{y:.1f}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","line":{"color":"#FFFBD5","width":3},"marker":{"color":"#FFFBD5","size":6},"mode":"lines+markers","name":"Mono White Caretaker","x":["2025-07-01","2025-07-03","2025-07-04","2025-07-05","2025-07-06","2025-07-07","2025-07-08","2025-07-10","2025-07-11","2025-07-12","2025-07-13","2025-07-14","2025-07-15","2025-07-17","2025-07-18","2025-07-19","2025-07-20"],"y":[15.38,20.0,16.0,14.58,3.39,4.0,3.57,3.7,4.76,5.66,4.44,3.12,6.25,3.57,5.08,2.94,5.26],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hovertemplate":"\u003cb\u003e%{fullData.name}\u003c\u002fb\u003e\u003cbr\u003eDate: %{x}\u003cbr\u003eMeta Share: %{y:.1f}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","line":{"color":"#1C1C1C","width":3},"marker":{"color":"#1C1C1C","size":6},"mode":"lines+markers","name":"Golgari Midrange","x":["2025-07-01","2025-07-03","2025-07-04","2025-07-06","2025-07-07","2025-07-08","2025-07-10","2025-07-11","2025-07-12","2025-07-13","2025-07-14","2025-07-17","2025-07-18","2025-07-19","2025-07-20"],"y":[3.85,8.0,6.0,0.85,4.0,7.14,11.11,11.9,7.55,6.67,3.12,7.14,1.69,8.82,2.63],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"hovertemplate":"\u003cb\u003e%{fullData.name}\u003c\u002fb\u003e\u003cbr\u003eDate: %{x}\u003cbr\u003eMeta Share: %{y:.1f}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","line":{"color":"#F44336","width":3},"marker":{"color":"#F44336","size":6},"mode":"lines+markers","name":"Boros Convoke","x":["2025-07-01","2025-07-04","2025-07-05","2025-07-06","2025-07-07","2025-07-08","2025-07-10","2025-07-11","2025-07-12","2025-07-13","2025-07-14","2025-07-15","2025-07-18","2025-07-19"],"y":[3.85,6.0,4.17,3.39,4.0,14.29,7.41,7.14,7.55,6.67,12.5,9.38,1.69,2.94],"type":"scatter","xaxis":"x2","yaxis":"y2"}],"layout":{"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.6000000000000001,1.0],"tickangle":-45,"showgrid":false},"yaxis":{"anchor":"x","domain":[0.625,1.0],"title":{"text":"Number of Decks"}},"xaxis2":{"anchor":"y2","domain":[0.0,1.0],"title":{"text":"Date"}},"yaxis2":{"anchor":"x2","domain":[0.0,0.375],"title":{"text":"Meta Share %"}},"annotations":[{"font":{"size":16},"showarrow":false,"text":"📊 Meta Distribution (July 1-20)","x":0.2,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"📈 Top Archetypes","x":0.8,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"📉 Meta Evolution (July 1-20, 2025)","x":0.5,"xanchor":"center","xref":"paper","y":0.375,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":24},"text":"🎯 Manalytics - Standard Metagame Analysis (July 1-20, 2025)\u003cbr\u003e\u003csub\u003eTournaments Only (Leagues Excluded) - Generated July 26, 2025\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":140,"b":80,"l":80,"r":120},"showlegend":true,"height":1100,"hovermode":"closest"}};
        var tableFig = {"data":[{"cells":{"align":"left","fill":{"color":[["rgba(14,104,171,0.27)","rgba(14,104,171,0.27)","rgba(255,251,213,0.13)","rgba(28,28,28,0.27)","rgba(244,67,54,0.27)","rgba(76,175,80,0.13)","rgba(14,104,171,0.27)","rgba(244,67,54,0.27)","rgba(244,67,54,0.27)","rgba(14,104,171,0.27)","rgba(158,158,158,0.13)","rgba(255,251,213,0.27)","rgba(14,104,171,0.27)"],["rgba(14,104,171,0.27)","rgba(14,104,171,0.27)","rgba(255,251,213,0.13)","rgba(28,28,28,0.27)","rgba(244,67,54,0.27)","rgba(76,175,80,0.13)","rgba(14,104,171,0.27)","rgba(244,67,54,0.27)","rgba(244,67,54,0.27)","rgba(14,104,171,0.27)","rgba(158,158,158,0.13)","rgba(255,251,213,0.27)","rgba(14,104,171,0.27)"],["rgba(14,104,171,0.27)","rgba(14,104,171,0.27)","rgba(255,251,213,0.13)","rgba(28,28,28,0.27)","rgba(244,67,54,0.27)","rgba(76,175,80,0.13)","rgba(14,104,171,0.27)","rgba(244,67,54,0.27)","rgba(244,67,54,0.27)","rgba(14,104,171,0.27)","rgba(158,158,158,0.13)","rgba(255,251,213,0.27)","rgba(14,104,171,0.27)"],["rgba(14,104,171,0.27)","rgba(14,104,171,0.27)","rgba(255,251,213,0.13)","rgba(28,28,28,0.27)","rgba(244,67,54,0.27)","rgba(76,175,80,0.13)","rgba(14,104,171,0.27)","rgba(244,67,54,0.27)","rgba(244,67,54,0.27)","rgba(14,104,171,0.27)","rgba(158,158,158,0.13)","rgba(255,251,213,0.27)","rgba(14,104,171,0.27)"],["rgba(14,104,171,0.27)","rgba(14,104,171,0.27)","rgba(255,251,213,0.13)","rgba(28,28,28,0.27)","rgba(244,67,54,0.27)","rgba(76,175,80,0.13)","rgba(14,104,171,0.27)","rgba(244,67,54,0.27)","rgba(244,67,54,0.27)","rgba(14,104,171,0.27)","rgba(158,158,158,0.13)","rgba(255,251,213,0.27)","rgba(14,104,171,0.27)"],["rgba(14,104,171,0.27)","rgba(14,104,171,0.27)","rgba(255,251,213,0.13)","rgba(28,28,28,0.27)","rgba(244,67,54,0.27)","rgba(76,175,80,0.13)","rgba(14,104,171,0.27)","rgba(244,67,54,0.27)","rgba(244,67,54,0.27)","rgba(14,104,171,0.27)","rgba(158,158,158,0.13)","rgba(255,251,213,0.27)","rgba(14,104,171,0.27)"]]},"font":{"size":12},"height":30,"values":[["#1","#2","#3","#4","#5","#6","#7","#8","#9","#10","#11","#12","#13"],["Dimir Midrange","Izzet Cauldron","Mono White Caretaker","Golgari Midrange","Boros Convoke","Mono Green Landfall","Izzet Prowess","Naya Yuna","Gruul Aggro","Izzet Oculus","Colorless Convoke","Azorius Control","Jeskai Control"],[193,182,51,41,40,34,20,18,17,13,13,12,12],["24.22%","22.84%","6.40%","5.14%","5.02%","4.27%","2.51%","2.26%","2.13%","1.63%","1.63%","1.51%","1.51%"],[5.2,4.9,1.4,1.1,1.1,0.9,0.5,0.5,0.5,0.4,0.4,0.3,0.3],["📉 Falling","📈 Rising","📉 Falling","📈 Rising","📈 Rising","📈 Rising","📉 Falling","➡️ Stable","📈 Rising","📉 Falling","📈 Rising","📉 Falling","📉 Falling"]]},"header":{"align":"left","fill":{"color":"rgba(102, 126, 234, 0.8)"},"font":{"color":"white","size":14},"height":40,"values":["Rank","Archetype","Decks","Meta %","Avg\u002fTournament","Trend"]},"type":"table"}],"layout":{"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"margin":{"t":60,"b":20,"l":20,"r":20},"title":{"text":"🏆 Complete Archetype Breakdown (July 1-20, 2025)"},"height":600}};
        
        // Gradient info for visualizations
        var gradientInfo = [{"index": 0, "label": "Dimir Midrange", "colors": ["U", "B"], "hex_colors": ["#0E68AB", "#1C1C1C"]}, {"index": 1, "label": "Izzet Cauldron", "colors": ["U", "R"], "hex_colors": ["#0E68AB", "#F44336"]}, {"index": 3, "label": "Golgari Midrange", "colors": ["B", "G"], "hex_colors": ["#1C1C1C", "#4CAF50"]}, {"index": 4, "label": "Boros Convoke", "colors": ["R", "W"], "hex_colors": ["#F44336", "#FFFBD5"]}, {"index": 6, "label": "Izzet Prowess", "colors": ["U", "R"], "hex_colors": ["#0E68AB", "#F44336"]}, {"index": 7, "label": "Naya Yuna", "colors": ["R", "G", "W"], "hex_colors": ["#F44336", "#4CAF50", "#FFFBD5"]}, {"index": 8, "label": "Gruul Aggro", "colors": ["R", "G"], "hex_colors": ["#F44336", "#4CAF50"]}, {"index": 9, "label": "Izzet Oculus", "colors": ["U", "R"], "hex_colors": ["#0E68AB", "#F44336"]}, {"index": 11, "label": "Azorius Control", "colors": ["W", "U"], "hex_colors": ["#FFFBD5", "#0E68AB"]}, {"index": 12, "label": "Jeskai Control", "colors": ["U", "R", "W"], "hex_colors": ["#0E68AB", "#F44336", "#FFFBD5"]}];
        
        // Table data with colors
        var tableColorData = [{"label": "Dimir Midrange", "colors": ["U", "B"]}, {"label": "Izzet Cauldron", "colors": ["U", "R"]}, {"label": "Mono White Caretaker", "colors": ["W"]}, {"label": "Golgari Midrange", "colors": ["B", "G"]}, {"label": "Boros Convoke", "colors": ["R", "W"]}, {"label": "Mono Green Landfall", "colors": ["G"]}, {"label": "Izzet Prowess", "colors": ["U", "R"]}, {"label": "Naya Yuna", "colors": ["R", "G", "W"]}, {"label": "Gruul Aggro", "colors": ["R", "G"]}, {"label": "Izzet Oculus", "colors": ["U", "R"]}, {"label": "Colorless Convoke", "colors": ["C"]}, {"label": "Azorius Control", "colors": ["W", "U"]}, {"label": "Jeskai Control", "colors": ["U", "R", "W"]}];
        
        // MTG colors
        var mtgColors = {
            'W': '#FFFBD5',
            'U': '#0E68AB',
            'B': '#1C1C1C',
            'R': '#F44336',
            'G': '#4CAF50',
            'C': '#9E9E9E'
        };
        
        // Configuration to preserve gradients
        var config = {
            responsive: true,
            displayModeBar: true,
            modeBarButtonsToRemove: ['select2d', 'lasso2d', 'toggleSpikelines'],
            displaylogo: false
        };
        
        Plotly.newPlot('mainChart', mainFig.data, mainFig.layout, config).then(function(gd) {
            // Apply gradients to pie and bar charts
            setTimeout(function() {
                var svg = gd.querySelector('.main-svg');
                if (!svg) return;
                
                // Create defs for gradients
                var defs = svg.querySelector('defs') || svg.insertBefore(document.createElementNS('http://www.w3.org/2000/svg', 'defs'), svg.firstChild);
                
                // Add gradient definitions
                gradientInfo.forEach(function(info) {
                    // Radial gradient for pie
                    var radialGrad = document.createElementNS('http://www.w3.org/2000/svg', 'radialGradient');
                    radialGrad.setAttribute('id', 'pie_grad_' + info.index);
                    
                    info.hex_colors.forEach(function(color, i) {
                        var stop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
                        stop.setAttribute('offset', (i / (info.hex_colors.length - 1) * 100) + '%');
                        stop.setAttribute('stop-color', color);
                        radialGrad.appendChild(stop);
                    });
                    defs.appendChild(radialGrad);
                    
                    // Linear gradient for bars
                    var linearGrad = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
                    linearGrad.setAttribute('id', 'bar_grad_' + info.index);
                    linearGrad.setAttribute('x1', '0%');
                    linearGrad.setAttribute('y1', '100%');
                    linearGrad.setAttribute('x2', '0%');
                    linearGrad.setAttribute('y2', '0%');
                    
                    info.hex_colors.forEach(function(color, i) {
                        var stop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
                        stop.setAttribute('offset', (i / (info.hex_colors.length - 1) * 100) + '%');
                        stop.setAttribute('stop-color', color);
                        linearGrad.appendChild(stop);
                    });
                    defs.appendChild(linearGrad);
                });
                
                // Apply to pie slices
                var pieSlices = gd.querySelectorAll('.pielayer .slice path');
                gradientInfo.forEach(function(info) {
                    if (pieSlices[info.index]) {
                        pieSlices[info.index].style.fill = 'url(#pie_grad_' + info.index + ')';
                    }
                });
                
                // Apply to bars
                var bars = gd.querySelectorAll('.barlayer .points .point path');
                gradientInfo.forEach(function(info) {
                    if (bars[info.index]) {
                        bars[info.index].style.fill = 'url(#bar_grad_' + info.index + ')';
                    }
                });
            }, 200);
        });
        
        Plotly.newPlot('tableChart', tableFig.data, tableFig.layout, {responsive: true}).then(function(gd) {
            // Apply gradient backgrounds to table rows
            setTimeout(function() {
                // For each row with multi-color archetype, create CSS gradient
                var style = document.createElement('style');
                var css = '';
                
                tableColorData.forEach(function(data, i) {
                    if (data.colors.length > 1) {
                        var colors = data.colors.map(function(c) { return mtgColors[c]; });
                        css += `
                            .table-row-${i} {
                                background: linear-gradient(90deg, ${colors.join(', ')}) !important;
                            }
                        `;
                    }
                });
                
                style.textContent = css;
                document.head.appendChild(style);
                
                // Apply classes to SVG elements
                var cells = gd.querySelectorAll('.table .cells rect');
                var cellsPerRow = 6;
                
                cells.forEach(function(cell, idx) {
                    var rowIdx = Math.floor(idx / cellsPerRow);
                    var data = tableColorData[rowIdx];
                    
                    if (data && data.colors.length > 1) {
                        // For multi-color rows, create gradient overlay
                        var parent = cell.parentNode;
                        var rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                        rect.setAttribute('x', cell.getAttribute('x'));
                        rect.setAttribute('y', cell.getAttribute('y'));
                        rect.setAttribute('width', cell.getAttribute('width'));
                        rect.setAttribute('height', cell.getAttribute('height'));
                        
                        // Create gradient
                        var gradId = 'table_grad_' + rowIdx + '_' + idx;
                        var grad = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
                        grad.setAttribute('id', gradId);
                        grad.setAttribute('x1', '0%');
                        grad.setAttribute('x2', '100%');
                        
                        data.colors.forEach(function(c, i) {
                            var stop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
                            stop.setAttribute('offset', (i / (data.colors.length - 1) * 100) + '%');
                            stop.setAttribute('stop-color', mtgColors[c]);
                            stop.setAttribute('stop-opacity', '0.3');
                            grad.appendChild(stop);
                        });
                        
                        var svg = gd.querySelector('svg');
                        var defs = svg.querySelector('defs') || svg.insertBefore(document.createElementNS('http://www.w3.org/2000/svg', 'defs'), svg.firstChild);
                        defs.appendChild(grad);
                        
                        rect.setAttribute('fill', 'url(#' + gradId + ')');
                        parent.appendChild(rect);
                    }
                });
                
                console.log('Table gradients applied for July 1-20 analysis');
            }, 200);
        });
        
        function downloadCSV() {
            let csv = 'Rank,Archetype,Decks,Percentage,Per Tournament\n';
            [{"rank": 1, "name": "Dimir Midrange", "count": 193, "percentage": 24.22, "per_tournament": 5.2}, {"rank": 2, "name": "Izzet Cauldron", "count": 182, "percentage": 22.84, "per_tournament": 4.9}, {"rank": 3, "name": "Mono White Caretaker", "count": 51, "percentage": 6.4, "per_tournament": 1.4}, {"rank": 4, "name": "Golgari Midrange", "count": 41, "percentage": 5.14, "per_tournament": 1.1}, {"rank": 5, "name": "Boros Convoke", "count": 40, "percentage": 5.02, "per_tournament": 1.1}, {"rank": 6, "name": "Mono Green Landfall", "count": 34, "percentage": 4.27, "per_tournament": 0.9}, {"rank": 7, "name": "Izzet Prowess", "count": 20, "percentage": 2.51, "per_tournament": 0.5}, {"rank": 8, "name": "Naya Yuna", "count": 18, "percentage": 2.26, "per_tournament": 0.5}, {"rank": 9, "name": "Gruul Aggro", "count": 17, "percentage": 2.13, "per_tournament": 0.5}, {"rank": 10, "name": "Izzet Oculus", "count": 13, "percentage": 1.63, "per_tournament": 0.4}, {"rank": 11, "name": "Colorless Convoke", "count": 13, "percentage": 1.63, "per_tournament": 0.4}, {"rank": 12, "name": "Azorius Control", "count": 12, "percentage": 1.51, "per_tournament": 0.3}, {"rank": 13, "name": "Jeskai Control", "count": 12, "percentage": 1.51, "per_tournament": 0.3}]            .forEach(row => {
                csv += `${row.rank},"${row.name}",${row.count},${row.percentage}%,${row.per_tournament}\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'manalytics_july_1_20_2025.csv';
            a.click();
        }
    </script>
</body>
</html>
